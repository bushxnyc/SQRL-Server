<!DOCTYPE html>
  <head>
        <meta charset="utf-8">
        <title>SQRL</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="global.css">
        <script src="/socket.io.js"></script>
        <script src="qrcode.min.js" type="text/javascript"></script>
  </head>
  <body>

  <div>
  <a id="qrcode" href="<%= url %>">
  </a>
  </div>
    <script type="text/javascript">

    var QRElem = document.getElementById('qrcode');
    var QROptions = {
      text: QRElem.href,
      correctLevel: QRCode.CorrectLevel.L
    };
    var code = new QRCode(QRElem , QROptions);

    var socket = io.connect('http://localhost:9090');
    var data = "<%= nonce %>"
    socket.emit('register', {data: data});
    socket.on('response', function (data) {
        alert(data['msg']);
    });

    </script>
  </body>
</html>
